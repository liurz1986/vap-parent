<assembly
xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
<!-- 打包文件名的标识符,在打包后的文件名称的后缀显示 -->
<id>${project.version}</id>
<formats>
    <!-- 这里设置打包的类型，例如 tar、zip 等 -->
    <format>zip</format>
</formats>
<includeBaseDirectory>false</includeBaseDirectory>
<fileSets>
    <fileSet>
        <directory>src/main/scripts</directory>
        <outputDirectory>/${project.artifactId}</outputDirectory>
        <includes>
            <include>*</include>
        </includes>
        <fileMode>0755</fileMode>
    </fileSet>
    <fileSet>
        <directory>src/main/scripts/conf</directory>
        <outputDirectory>/${project.artifactId}/conf</outputDirectory>
        <includes>
            <include>*</include>
        </includes>
    </fileSet>


    <fileSet>
        <directory>src/main/scripts/package/monitoring-agent-0.1</directory>
        <outputDirectory>/${project.artifactId}/package/monitoring-agent-0.1</outputDirectory>
        <includes>
            <include>*</include>
        </includes>
    </fileSet>

    <fileSet>
        <directory>src/main/scripts/package/monitoring-agent-0.1/bin</directory>
        <outputDirectory>/${project.artifactId}/package/monitoring-agent-0.1/bin</outputDirectory>
        <includes>
            <include>*</include>
        </includes>
        <fileMode>0755</fileMode>
    </fileSet>

    <fileSet>
        <directory>target</directory>
        <includes>
            <include>${project.artifactId}.jar</include>
        </includes>
        <outputDirectory>/${project.artifactId}/package/monitoring-agent-0.1/target</outputDirectory>
    </fileSet>
    <!-- 将 application.yml 从项目所在的目录中的 class 目录取出来，放到 zip 包-->
    <fileSet>
        <directory>${project.build.directory}/classes</directory>
        <includes>
            <include>application.yml</include>
        </includes>
        <outputDirectory>/${project.artifactId}/package/monitoring-agent-0.1/conf</outputDirectory>
    </fileSet>
</fileSets>
</assembly>